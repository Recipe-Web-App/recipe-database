# Recipe Database Environment Configuration
# Copy this file to .env and customize with your values

# =============================================================================
# Database Configuration
# =============================================================================

# Main database credentials
POSTGRES_USER=recipe_admin
POSTGRES_PASSWORD=your_secure_password_here
POSTGRES_DB=recipe_database

# Database maintenance user
DB_MAINT_USER=db_maintenance
DB_MAINT_PASSWORD=maintenance_password_here

# =============================================================================
# Monitoring Configuration
# =============================================================================

# Monitoring user for postgres_exporter (optional)
MONITORING_USER=postgres_exporter
MONITORING_PASSWORD=monitoring_password_here

# =============================================================================
# Application Configuration
# =============================================================================

# Environment type (development, staging, production)
ENVIRONMENT=development

# Debug mode (true/false)
DEBUG_MODE=true

# Log level (DEBUG, INFO, WARNING, ERROR, CRITICAL)
LOG_LEVEL=INFO

# =============================================================================
# PostgreSQL Advanced Configuration
# =============================================================================

# Connection limits
POSTGRES_MAX_CONNECTIONS=100

# Memory settings
POSTGRES_SHARED_BUFFERS=256MB
POSTGRES_WORK_MEM=4MB
POSTGRES_MAINTENANCE_WORK_MEM=64MB

# Security settings
POSTGRES_SSL_MODE=prefer

# =============================================================================
# Data Processing Configuration
# =============================================================================

# OpenFoodFacts CSV file path for nutritional data import
OPENFOODS_CSV_PATH=/data/openfoodfacts.csv

# Batch size for data processing
IMPORT_BATCH_SIZE=1000

# Data validation settings
VALIDATE_NUTRITIONAL_DATA=true
SKIP_INCOMPLETE_RECORDS=false

# =============================================================================
# Kubernetes Configuration
# =============================================================================

# Namespace for deployment
K8S_NAMESPACE=recipe-database

# Resource limits
DATABASE_CPU_LIMIT=1000m
DATABASE_MEMORY_LIMIT=1Gi
DATABASE_CPU_REQUEST=500m
DATABASE_MEMORY_REQUEST=512Mi

# Storage configuration
DATABASE_STORAGE_SIZE=50Gi
DATABASE_STORAGE_CLASS=standard

# =============================================================================
# Backup Configuration
# =============================================================================

# Backup retention period (days)
BACKUP_RETENTION_DAYS=30

# Backup schedule (cron format)
BACKUP_SCHEDULE="0 2 * * *"

# Backup storage location
BACKUP_STORAGE_PATH=/backups/recipe-database

# =============================================================================
# Security Configuration
# =============================================================================

# JWT secret for authentication (if using JWT)
JWT_SECRET=your_jwt_secret_here

# API rate limiting
API_RATE_LIMIT=1000

# CORS allowed origins
CORS_ALLOWED_ORIGINS=*

# =============================================================================
# Development/Testing Configuration
# =============================================================================

# Test database settings (for development only)
TEST_POSTGRES_DB=recipe_test
TEST_DATA_CLEANUP=true

# Development tools
ENABLE_SQL_LOGGING=false
ENABLE_QUERY_ANALYSIS=false

# =============================================================================
# External Service Integration
# =============================================================================

# Prometheus monitoring endpoint (if external)
PROMETHEUS_ENDPOINT=http://prometheus:9090

# Grafana dashboard URL (if external)
GRAFANA_ENDPOINT=http://grafana:3000

# Alert notification webhooks
SLACK_WEBHOOK_URL=https://hooks.slack.com/services/...
PAGERDUTY_SERVICE_KEY=your_pagerduty_key_here

# =============================================================================
# Performance Tuning
# =============================================================================

# Connection pooling
DB_POOL_SIZE=20
DB_POOL_MAX_OVERFLOW=10
DB_POOL_TIMEOUT=30

# Query timeout (seconds)
QUERY_TIMEOUT=30

# Cache settings
ENABLE_QUERY_CACHE=true
CACHE_TTL=300

# =============================================================================
# Data Retention Policies
# =============================================================================

# User notification retention (days)
NOTIFICATION_RETENTION_DAYS=90

# Recipe revision history retention (days)
REVISION_RETENTION_DAYS=365

# User activity log retention (days)
ACTIVITY_LOG_RETENTION_DAYS=180

# =============================================================================
# Feature Flags
# =============================================================================

# Enable/disable features
ENABLE_USER_FOLLOWS=true
ENABLE_RECIPE_REVIEWS=true
ENABLE_MEAL_PLANNING=true
ENABLE_NUTRITIONAL_DATA=true
ENABLE_RECIPE_VERSIONING=true

# Social features
ENABLE_USER_NOTIFICATIONS=true
ENABLE_RECIPE_SHARING=true

# Advanced features
ENABLE_RECIPE_RECOMMENDATIONS=false
ENABLE_AI_FEATURES=false

# =============================================================================
# Localization
# =============================================================================

# Default application language
DEFAULT_LANGUAGE=en

# Supported languages (comma-separated)
SUPPORTED_LANGUAGES=en,es,fr,de,it

# Timezone for timestamps
DEFAULT_TIMEZONE=UTC

# =============================================================================
# Development Overrides
# =============================================================================
# Uncomment and modify for local development

# Override for local development
# POSTGRES_HOST=localhost
# POSTGRES_PORT=5432

# Local file paths for development
# LOCAL_DATA_PATH=./data
# LOCAL_BACKUP_PATH=./backups

# Development debugging
# SQL_ECHO=true
# DEBUG_QUERIES=true
